(function(e){function t(t){for(var a,r,c=t[0],s=t[1],u=t[2],l=0,d=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o={app:0},i=[];function c(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d22996d":"3d78c203","chunk-3a634668":"d1ea4a2f","chunk-5ac9dadb":"21772fcf","chunk-6891e811":"db8f0c25","chunk-7f7be72e":"83047328","chunk-89caee18":"bd571ea6","chunk-c28d2900":"6494523d","chunk-3b6a3e8a":"84aaf439","chunk-a8c44334":"4a85e1a7","chunk-c347d424":"6e0f50e6"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-3a634668":1,"chunk-5ac9dadb":1,"chunk-6891e811":1,"chunk-7f7be72e":1,"chunk-89caee18":1,"chunk-c28d2900":1,"chunk-3b6a3e8a":1,"chunk-a8c44334":1,"chunk-c347d424":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-2d22996d":"31d6cfe0","chunk-3a634668":"6b6cf884","chunk-5ac9dadb":"f44916a6","chunk-6891e811":"dba39f28","chunk-7f7be72e":"15e879a8","chunk-89caee18":"f8282334","chunk-c28d2900":"7e898988","chunk-3b6a3e8a":"b6b92317","chunk-a8c44334":"f486f916","chunk-c347d424":"05dfad89"}[e]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){u=d[c],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[e],f.parentNode.removeChild(f),n(i)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"34ba":function(e,t,n){"use strict";var a=n("538f"),r=n.n(a);r.a},4360:function(e,t,n){"use strict";n("ac1f"),n("466d");var a=n("2b0e"),r=n("2f62"),o=n("a18c"),i=n("e0b4"),c=n("4360");a["default"].use(r["a"]),t["a"]=new r["a"].Store({state:{need_tabs:!1,nombreVista:"",user_data:Object(i["c"])()},mutations:{setNombreVista:function(e,t){e.nombreVista=t},loginUser:function(e,t){e.user_data=t},logoutUser:function(e){e.user_data=null},toggleTabs:function(e,t){e.need_tabs=t},disableNew:function(e){e.user_data.isNew=!1}},actions:{iniciarSesionUsuario:function(e,t){var n=e.commit,a=t.providerData[0],r={data:a,isNew:t.metadata.lastSignInTime==t.metadata.creationTime};Object(i["f"])(a),n("loginUser",r),o["a"].push({name:"Inicio"})},cerrarSesionUsuario:function(e){var t=e.commit;t("logoutUser"),Object(i["a"])(),o["a"].push({name:"Login"})}},getters:{isMenuView:function(e){return"CENTRO+"==e.nombreVista},isPrimeraVez:function(e){if(e.user_data){var t=!!navigator.userAgent.match(/Version\/[\d.]+.*Safari/),n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;return(!t||!n||"Notification"in window)&&(!(!e.user_data.isNew||"CENTRO+"!=e.nombreVista)&&(c["a"].commit("disableNew"),!0))}}},modules:{}})},"538f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("nav-bar"),n("v-content",[n("v-scale-transition",{attrs:{"leave-absolute":""}},[n("router-view")],1)],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return this.$store.state.user_data?n("v-app-bar",{attrs:{color:"primary",dark:"",app:""},scopedSlots:e._u([this.$store.state.need_tabs?{key:"extension",fn:function(){return[n("portal-target",{attrs:{name:"tabs_nav",id:"portal"}})]},proxy:!0}:null],null,!0)},[n("div",{directives:[{name:"show",rawName:"v-show",value:!this.$store.getters.isMenuView,expression:"!this.$store.getters.isMenuView"}],attrs:{id:"titleNav"}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$router.back()}}},[n("v-icon",[e._v("mdi-arrow-left")])],1),n("v-toolbar-title",[e._v(e._s(this.$store.state.nombreVista))])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:this.$store.getters.isMenuView,expression:"this.$store.getters.isMenuView"}],staticClass:"cont-lb"},[n("v-icon",{attrs:{color:"white",size:"40"}},[e._v("mdi-school")]),n("div",{staticClass:"cont-brand"},[n("span",{staticClass:"lb-centro"},[e._v("Ingeniería"),n("b",[e._v("+")])]),n("span",{staticClass:"lb-me"},[e._v("Miguel De Olim")])])],1),n("v-spacer"),n("v-toolbar-items",[n("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,2097855828)},[n("v-list",[n("v-list-item",{attrs:{to:{name:"Informacion"}}},[n("v-list-item-title",[e._v("Información")])],1),n("v-list-item",{attrs:{to:{name:"Configuracion"}}},[n("v-list-item-title",[e._v("Configuración")])],1),n("v-list-item",{on:{click:e.cerrarSesionUsuario}},[n("v-list-item-title",[e._v("Cerrar sesión")])],1)],1)],1)],1)],1):e._e()},c=[],s=n("5530"),u=n("2f62"),l={methods:Object(s["a"])({},Object(u["b"])(["cerrarSesionUsuario"]))},d=l,f=(n("34ba"),n("2877")),m=n("6544"),b=n.n(m),h=n("40dc"),p=n("8336"),v=n("132d"),g=n("8860"),k=n("da13"),_=n("5d23"),w=n("e449"),C=n("2fa4"),y=n("2a7f"),A=Object(f["a"])(d,i,c,!1,null,null,null),V=A.exports;b()(A,{VAppBar:h["a"],VBtn:p["a"],VIcon:v["a"],VList:g["a"],VListItem:k["a"],VListItemTitle:_["c"],VMenu:w["a"],VSpacer:C["a"],VToolbarItems:y["a"],VToolbarTitle:y["b"]});var S={name:"App",components:{NavBar:V},data:function(){return{}}},O=S,E=n("7496"),I=n("a75b"),j=n("0789"),x=Object(f["a"])(O,r,o,!1,null,null,null),N=x.exports;b()(x,{VApp:E["a"],VContent:I["a"],VScaleTransition:j["c"]});var P=n("9483"),T=n("dc59");Object(P["a"])("cplus-sw.js",{ready:function(e){T["b"].useServiceWorker(e),console.log("App is being served from cache by a service worker")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var U=n("a18c"),B=n("4360"),D=n("f309"),L=(n("bf40"),n("2e15")),M=n.n(L);a["default"].use(D["a"]);var $=new D["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#005E1C",secondary:"#FFFFFF",accent:"#F4D217",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}},lang:{locales:{es:M.a},current:"es"}}),R=n("2b88"),q=n.n(R),F=n("75f1"),z=n.n(F),H=(n("d5e8"),n("5363"),n("e0b4"));Object(H["d"])(),a["default"].config.productionTip=!1,a["default"].use(q.a),a["default"].use(z.a,{appName:"C+ Ing",appVersion:"2.2",trackingId:"UA-33542195-5",vueRouter:U["a"],trackPage:!0}),new a["default"]({router:U["a"],store:B["a"],vuetify:$,render:function(e){return e(N)}}).$mount("#app")},6633:function(e,t,n){},"9d06":function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"g",(function(){return u}));var a="https://c-plus-ingenieria.mybluemix.net/api",r=a+"/config",o=a+"/calendario",i=a+"/anuncios",c=a+"/consultas",s=a+"/asesores",u=a+"/materiales",l="https://us-central1-centro-plus.cloudfunctions.net/suscribeUserTopics"},a18c:function(e,t,n){"use strict";n("45fc"),n("b0c0"),n("d3b7");var a=n("2b0e"),r=n("8c4f"),o=n("4360"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fullH",attrs:{id:"fondo"}},[n("v-row",{staticClass:"fullH",attrs:{align:"center",justify:"center","no-gutters":""}},[n("v-col",{attrs:{xs:"12 ",sm:"6"}},[n("div",{attrs:{align:"center"}},[n("v-icon",{attrs:{color:"white",size:"170"}},[e._v("mdi-school")])],1),n("div",{attrs:{id:"login_logo"}},[n("span",[e._v("CENTRO+")]),n("br"),n("span",[e._v("INGENIERÍA")]),n("br")]),n("br"),n("div",[n("v-col",{attrs:{xs:"8"}},[n("v-btn",{attrs:{id:"login_btn",depressed:"",block:""},on:{click:e.iniciarSesion}},[n("v-icon",[e._v("mdi-gmail")]),e._v(" Iniciar con correo UCAB")],1)],1)],1),n("br"),n("br"),n("br"),n("br")])],1),n("v-snackbar",{attrs:{timeout:4e3},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" ¡Debe utlizar correo UCAB! "),n("v-btn",{attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},[n("v-icon",[e._v("mdi-close")])],1)],1)],1)},c=[],s=(n("caad"),n("2532"),n("dc59")),u={data:function(){return{snackbar:!1}},methods:{iniciarSesion:function(){var e=this;s["a"].signInWithPopup(s["c"]).then((function(t){var n=t.user;n.email.includes("ucab.edu.ve")?(o["a"].dispatch("iniciarSesionUsuario",n),e.$ua.trackEvent("CplusInteraccion","Login","Correo UCAB")):(e.snackbar=!0,s["a"].signOut().then((function(){})).catch((function(e){console.log(e)})),e.$ua.trackEvent("CplusInteraccion","Login","Correo NO UCAB"))})).catch((function(t){var n=t.code,a=t.message,r=t.email,o=t.credential;console.error(n,a,r,o),e.$ua.trackEvent("CplusInteraccion","Login","ERROR ".concat(n))}))}}},l=u,d=(n("c1e3"),n("2877")),f=n("6544"),m=n.n(f),b=n("8336"),h=n("62ad"),p=n("132d"),v=n("0fd9"),g=n("2db4"),k=Object(d["a"])(l,i,c,!1,null,"0afea91a",null),_=k.exports;m()(k,{VBtn:b["a"],VCol:h["a"],VIcon:p["a"],VRow:v["a"],VSnackbar:g["a"]});var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:".pt-12 .mt-2"},[n("v-row",{staticClass:"ml-4 mr-4 mt-2",attrs:{align:"center",justify:"center",dense:"","no-gutters":""}},e._l(e.menu,(function(t){return n("v-col",{key:t.titulo,attrs:{cols:"6",md:"4"}},[n("v-card",{staticClass:"text-center pt-4",attrs:{to:{name:t.link},outlined:"",tile:"","min-height":"135","max-height":"135"}},[n("v-img",[n("v-icon",{attrs:{size:"50",color:"primary"}},[e._v(e._s(t.icon))])],1),n("v-card-text",[n("h3",{staticClass:"black--text"},[e._v(e._s(t.titulo))])])],1)],1)})),1),n("v-dialog",{attrs:{persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{align:"center"}},[n("v-card-title",{staticClass:"headline"},[e._v("Notificaciones WEB")]),n("v-icon",{attrs:{color:"primary",size:"55"}},[e._v("mdi-bell")]),n("v-card-text",{staticClass:"black--text mt-2",attrs:{align:"center"}},[e._v(" ¿Desea recibir notificaciones sobre la UCAB de parte del Centro de Estudiante?")]),n("v-card-actions",{attrs:{id:"acciones"}},[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Descartar")]),n("v-btn",{attrs:{color:"primary"},on:{click:e.suscribirUsuario}},[e._v("Suscribirse")])],1)],1)],1),n("v-snackbar",{attrs:{bottom:"",timeout:0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[n("div",[n("v-progress-circular",{attrs:{indeterminate:"",size:"16",width:"3"}}),n("span",{staticClass:"pl-2"},[e._v(" Suscribiendo...")])],1)])],1)},C=[],y={data:function(){return{dialog:o["a"].getters.isPrimeraVez,snackbar:!1,menu:[{titulo:"UCalculadora",link:"Ucalculadora",icon:"mdi-calculator"},{titulo:"Horarios+",link:"HorariosPlus",icon:"mdi-clock-outline"},{titulo:"Calendario de Eventos",link:"Calendario",icon:"mdi-calendar-text"},{titulo:"Anuncios UCAB",link:"Anuncios",icon:"mdi-tooltip-text"},{titulo:"Horarios de Consultas",link:"Consultas",icon:"mdi-teach"},{titulo:"Asesorias Académicas",link:"Progresa",icon:"mdi-google-classroom"},{titulo:"Material de Estudio",link:"Material",icon:"mdi-library"},{titulo:"Biblioteca UCAB",link:"BibliotecaUcab",icon:"mdi-book-open-page-variant"}]}},created:function(){o["a"].commit("toggleTabs",!1)},methods:{suscribirUsuario:function(){var e=this;this.snackbar=!0,this.dialog=!1,s["b"].getToken().then((function(t){t&&(Object(s["d"])({academico:!0,administrativo:!0,carrera:!0,token:t}),e.$gtag.event("Suscribirse",{event_category:"CplusInteraccion",event_label:"All"}))})).catch((function(e){console.error("An error occurred while retrieving token. ",e)})).finally((function(){e.snackbar=!1}))}}},A=y,V=n("b0af"),S=n("99d9"),O=n("169a"),E=n("adda"),I=n("490a"),j=n("2fa4"),x=Object(d["a"])(A,w,C,!1,null,null,null),N=x.exports;m()(x,{VBtn:b["a"],VCard:V["a"],VCardActions:S["a"],VCardText:S["c"],VCardTitle:S["d"],VCol:h["a"],VDialog:O["a"],VIcon:p["a"],VImg:E["a"],VProgressCircular:I["a"],VRow:v["a"],VSnackbar:g["a"],VSpacer:j["a"]}),a["default"].use(r["a"]);var P=[{path:"/",name:"Login",component:_},{path:"/inicio",name:"Inicio",component:N,meta:{requireAuth:!0,nombre:"CENTRO+"}},{path:"/calendario",name:"Calendario",component:function(){return n.e("chunk-c347d424").then(n.bind(null,"c7bf"))},meta:{requireAuth:!0,nombre:"Calendario de Eventos"}},{path:"/anuncios",name:"Anuncios",component:function(){return Promise.all([n.e("chunk-c28d2900"),n.e("chunk-a8c44334")]).then(n.bind(null,"d6fb"))},meta:{requireAuth:!0,nombre:"Anuncios UCAB"}},{path:"/consultas",name:"Consultas",component:function(){return n.e("chunk-5ac9dadb").then(n.bind(null,"d6bc"))},meta:{requireAuth:!0,nombre:"Horarios de Consultas"}},{path:"/consultas/:idmateria",name:"HoraConsulta",component:function(){return n.e("chunk-5ac9dadb").then(n.bind(null,"d6bc"))},props:!0,meta:{requireAuth:!0}},{path:"/progresa",name:"Progresa",component:function(){return n.e("chunk-7f7be72e").then(n.bind(null,"162f"))},meta:{requireAuth:!0,nombre:"Asesorías Académicas"}},{path:"/progresa/asesores",name:"Asesores",component:function(){return n.e("chunk-6891e811").then(n.bind(null,"e85b"))},meta:{requireAuth:!0,nombre:"Asesores"}},{path:"/material",name:"Material",component:function(){return Promise.all([n.e("chunk-c28d2900"),n.e("chunk-3b6a3e8a")]).then(n.bind(null,"3d2f"))},meta:{requireAuth:!0,nombre:"Material de estudio"}},{path:"/informacion",name:"Informacion",component:function(){return n.e("chunk-3a634668").then(n.bind(null,"0b1c"))},meta:{requireAuth:!0,nombre:"Información"}},{path:"/configuracion",name:"Configuracion",component:function(){return n.e("chunk-89caee18").then(n.bind(null,"fd7e"))},meta:{requireAuth:!0,nombre:"Configuración"}},{path:"/ucalculadora",name:"Ucalculadora",beforeEnter:function(){location.href="https://madot10.github.io/UCalculadora/"}},{path:"/horariosPlus",name:"HorariosPlus",beforeEnter:function(){location.href="https://madot10.github.io/HorariosPlus/"}},{path:"/bibliotecaucab",name:"BibliotecaUcab",beforeEnter:function(){location.href="https://biblioteca.ucab.edu.ve/"}},{path:"*",name:"404",component:function(){return n.e("chunk-2d22996d").then(n.bind(null,"dda8"))},meta:{requireAuth:!0,nombre:"ERROR"}}],T=new r["a"]({base:"/",routes:P});T.beforeEach((function(e,t,n){var a=e.matched.some((function(e){return e.meta.requireAuth}));e.meta.nombre&&"CENTRO+"!=e.meta.nombre?document.title="Centro+ | "+e.meta.nombre:document.title="Centro+",a&&o["a"].state.user_data?(o["a"].commit("setNombreVista",e.meta.nombre),n()):a&&!o["a"].state.user_data?n({name:"Login"}):"Login"==e.name&&o["a"].state.user_data?n({name:"Inicio"}):(o["a"].commit("setNombreVista",e.meta.nombre),n())}));t["a"]=T},c1e3:function(e,t,n){"use strict";var a=n("6633"),r=n.n(a);r.a},dc59:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));n("d3b7");var a=n("59ca"),r=n.n(a),o=(n("ea7b"),n("741f"),n("9d06")),i={apiKey:"AIzaSyD3H93e6rh_bpzc26VYt-_Y75OyThaX75s",authDomain:"centro-cei.firebaseapp.com",databaseURL:"https://centro-cei.firebaseio.com",projectId:"centro-cei",storageBucket:"centro-cei.appspot.com",messagingSenderId:"775416718209",appId:"1:775416718209:web:8e4f27fe554572d6"};function c(e){return new Promise((function(t,n){fetch(o["f"],{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e})).then((function(){t()})).catch((function(e){n(e)}))}))}r.a.initializeApp(i),r.a.messaging().onMessage((function(e){navigator.serviceWorker.ready.then((function(t){t.active.postMessage(e)}))}));var s=new r.a.auth.GoogleAuthProvider,u=r.a.auth(),l=r.a.messaging()},e0b4:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u}));n("d3b7");var a=2592e6;function r(){return new Promise((function(e,t){var n=indexedDB.open("db_centro_plus",2);n.onupgradeneeded=function(t){var n=t.target.result;n.createObjectStore("db_centro_plus",{keyPath:"id",autoIncrement:!1}),e(n)},n.onerror=function(e){t(e)},n.onsuccess=function(){var t=n.result;t.transaction(["db_centro_plus"],"readwrite"),e(t)}}))}function o(e,t){r().then((function(n){var a=n.transaction(["db_centro_plus"],"readwrite").objectStore("db_centro_plus"),r={id:e,time:new Date,data:t},o=a.put(r);o.onerror=function(){},o.onsuccess=function(){}}))}function i(e,t,n){return new Promise((function(a,o){r().then((function(r){var i=r.transaction(["db_centro_plus"],"readonly").objectStore("db_centro_plus"),s=i.get(e);s.onerror=function(){o()},s.onsuccess=function(){var u=s.result;u?u.time.getTime()+t>(new Date).getTime()||!navigator.onLine?a(u.data):navigator.onLine?c(n).then((function(t){var n={id:e,time:new Date,data:t};i=r.transaction(["db_centro_plus"],"readwrite").objectStore("db_centro_plus");var c=i.put(n);c.onerror=function(){o()},c.onsuccess=function(){a(t)}})).catch((function(){return a([])})):a(u):c(n).then((function(t){var n=r.transaction(["db_centro_plus"],"readwrite").objectStore("db_centro_plus").add({id:e,time:new Date,data:t});n.onsuccess=function(){a(t)}})).catch((function(){return a([])}))}})).catch((function(e){return console.error("Error InicializandoDB ",e)}))}))}function c(e){return new Promise((function(t,n){fetch(e).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(){n([])}))}))}function s(e,t){localStorage.setItem(e,JSON.stringify(t))}function u(){var e=JSON.parse(localStorage.getItem("@user_data"));return e&&(e.date+a>=(new Date).getTime()||!navigator.onLine)?e:null}function l(){localStorage.removeItem("@user_data")}function d(e){s("@user_data",{user:e,date:(new Date).getTime()})}window.indexedDB}});
//# sourceMappingURL=app.4a66ff9b.js.map